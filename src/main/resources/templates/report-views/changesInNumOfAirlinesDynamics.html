<!DOCTYPE html>
<html lang="en" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="template">
<head>
    <title>Динамика изменения количества авиакомпаний</title>
    <link th:href="@{/css/main.css}" rel="stylesheet">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
    <script src="/webjars/bootstrap/5.1.3/js/bootstrap.bundle.js"></script>
</head>
<body>
<div id="background" layout:fragment="content1">
    <div id="divChangeInNumOfAirlDynam">Динамика изменения количества авиакомпаний</div>
    <label id="labelChangeInNumOfAirlDynamL" for="container" th:text="'динамика изменения за ' + ${month} + ' ' + ${year} + ' года'"></label>
    <label id="labelChangeInNumOfAirlDynamR" for="container2" th:text="'динамика изменения за ' + ${monthCur} + ' ' + ${yearCur} + ' года'"></label>
    <div class="mainDivForAirlineDynamic">
        <div id="container" class="column"></div>
        <div id="container2" class="column"></div>
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <script language="JavaScript">
        var chart = Highcharts.chart('container', {
            chart: {
                plotBackgroundColor: null,
                plotBorderWidth: null,
                plotShadow: false,
                type: 'pie'
            },
            title: {
                text: ''
            },
            tooltip: {
                pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
            },
            plotOptions: {
                pie: {
                    allowPointSelect: true,
                    cursor: 'pointer',
                    dataLabels: {
                        enabled: true,
                        format: '<b>{point.name}</b>: {point.percentage:.1f} %',
                        style: {
                            color: (Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black'
                        }
                    }
                }
            },
            series: [{
                name: '',
                colorByPoint: true,
                data: [{
                    name: 'Неактивные авиакомпании',
                    y: [[${percentOfUnusedAirlines}]]
                }, {
                    name: 'Активные авиакомпании',
                    y: [[${percentOfAirlines}]]
                }]
            }]
        });
        var chart2 = Highcharts.chart('container2', {
            chart: {
                plotBackgroundColor: null,
                plotBorderWidth: null,
                plotShadow: false,
                type: 'pie'
            },
            title: {
                text: ''
            },
            tooltip: {
                pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
            },
            plotOptions: {
                pie: {
                    allowPointSelect: true,
                    cursor: 'pointer',
                    dataLabels: {
                        enabled: true,
                        format: '<b>{point.name}</b>: {point.percentage:.1f} %',
                        style: {
                            color: (Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black'
                        }
                    }
                }
            },
            series: [{
                name: '',
                colorByPoint: true,
                data: [{
                    name: 'Неактивные авиакомпании',
                    y: [[${percentOfUnusedAirlinesCur}]]
                }, {
                    name: 'Активные авиакомпании',
                    y: [[${percentOfAirlinesCur}]]
                }]
            }]
        });
    </script>
</div>
</body>
</html>